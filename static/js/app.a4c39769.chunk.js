(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{266:function(e,t,n){e.exports=n.p+"static/media/xmenu.45ba07c6.png"},307:function(e,t,n){"use strict";n(997);var r=n(216),a=n(22),s=n(300),i=n(0),o=n.n(i),c=n(1005),l=n(1006),u=n(88),p=n(295),h=n(26),d=n.n(h),f=n(3),m=n.n(f),g=n(4),j=n.n(g),x=n(6),y=n.n(x),b=n(5),O=n.n(b),v=n(7),w=n.n(v),P=n(76),I=n(57),C=n(172),T=n(9),k=n.n(T),S=n(17),D=n.n(S),M=n(1004),L=n(10);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E=Object(a.withStyles)((function(e){var t=e.eva,n=e.style,r=D()(e,["eva","style"]);return Object(L.jsx)(M.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{style:[t.style.view,n]}))}),(function(e){return{view:{backgroundColor:e["background-basic-color-1"],flex:1}}})),R=function(e){function t(e){var n;return m()(this,t),(n=y()(this,O()(t).call(this,e))).getAllKeys=function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return[],e.prev=1,e.next=4,d.a.awrap(P.a.getAllKeys());case 4:e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),null,null,[[1,7]])},n.getAllKeys(),n}return w()(t,e),j()(t,[{key:"render",value:function(){var e=this.props.navigation.navigate;return Object(L.jsx)(E,{children:Object(L.jsxs)(a.Layout,{style:{flex:1,justifyContent:"space-around",alignItems:"center"},children:[Object(L.jsx)(I.a,{source:n(266),style:{width:250,height:200}}),Object(L.jsx)(a.Text,{category:"h3",children:"About X"}),Object(L.jsxs)(a.Text,{children:["For a description of how to play the game please see: ",Object(L.jsxs)(a.Text,{style:{color:"blue"},onPress:function(){return C.a.openURL("https://github.com/iimog/x-game-master")},children:["X Game Manager Website."," "]}),"This app is open source, please report bugs and suggestions at the website as well. Data Privacy: This app does not collect any user data. Nor does it share any user information with any third party."]}),Object(L.jsx)(a.Button,{onPress:function(){e("Main")},children:" Back "})]})})}}]),t}(o.a.Component),G=n(81),N=n(12),A=n(35),F=n(63),J=n(308),W=n(218);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q={key:"root",storage:P.a};function V(e){return{reducer:e,prepare:function(e){return{payload:X({},e,{time:Date.now()})}}}}var H=Object(J.a)({name:"match",initialState:{players:[],games:[],rounds:[],matchId:-1,lastChange:-1},reducers:{reset:function(e){e.rounds=[],e.lastChange=-1,e.matchId=-1},startMatch:V((function(e,t){return{players:t.payload.players,games:t.payload.games,rounds:[],matchId:t.payload.time,lastChange:t.payload.time}})),loadMatch:function(e,t){return t.payload},gameResult:V((function(e,t){var n=t.payload;e.rounds[e.rounds.length-1].winner=n.winnerIndex,e.lastChange=n.time})),startNextGame:V((function(e,t){var n=t.payload,r=n.teams,a=n.time;e.rounds.push({teams:r,game:e.games[e.rounds.length],winner:-1}),e.lastChange=a})),togglePlayer:function(e,t){var n=e.players.find((function(e){return e.name==t.payload}));n&&(n.active=!n.active)},toggleGameResult:V((function(e,t){var n=t.payload,r=n.roundIndex,a=n.time,s=e.rounds[r];s.winner=0==s.winner?1:0,e.lastChange=a})),removeGame:V((function(e,t){var n=t.payload,r=n.roundIndex,a=n.time;e.games.splice(r,1),e.rounds.length>r&&e.rounds.splice(r,1),e.lastChange=a}))}}),U=Object(W.a)(q,H.reducer),Y=H.actions,z=Object(F.d)(U),Q=Object(W.b)(z);function Z(e,t){return e+1+". "+t.name}var $=function(e){function t(){var e,n;m()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=y()(this,(e=O()(t)).call.apply(e,[this].concat(a)))).reportResult=function(e){n.props.gameResult({winnerIndex:e})},n.gameIndex=n.props.rounds.length-1,n.game=Z(n.gameIndex,n.props.games[n.gameIndex]),n}return w()(t,e),j()(t,[{key:"render",value:function(){var e=this,t=this.props.rounds[this.gameIndex].teams,n=A.a.get("window").width;return Object(L.jsx)(E,{children:Object(L.jsx)(a.Layout,{style:{flex:1},children:Object(L.jsxs)(N.a,{style:{flex:1,width:n,justifyContent:"space-around",alignItems:"center",padding:15},children:[Object(L.jsx)(a.Text,{category:"h1",children:this.game}),Object(L.jsxs)(N.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-around",alignItems:"flex-start",paddingTop:30},children:[Object(L.jsx)(G.a,{data:t[0],renderItem:function(e){var t=e.item;return Object(L.jsx)(a.Text,{category:"h4",children:t.name})},keyExtractor:function(e){return e.name}}),Object(L.jsx)(G.a,{data:t[1],renderItem:function(e){var t=e.item;return Object(L.jsx)(a.Text,{category:"h4",style:{textAlign:"right"},children:t.name})},keyExtractor:function(e){return e.name}})]}),Object(L.jsxs)(N.a,{style:{flex:1,flexDirection:"row",width:n,justifyContent:"space-around",alignItems:"baseline"},children:[Object(L.jsx)(a.Button,{onPress:function(){e.reportResult(0),e.props.navigation.navigate("Leaderboard")},children:"Win Team1"}),Object(L.jsx)(a.Button,{onPress:function(){e.reportResult(1),e.props.navigation.navigate("Leaderboard")},children:"Win Team2"})]})]})})})}}]),t}(o.a.Component),_=Object(u.b)((function(e){return e}),Y)($),ee=n(20),te=n.n(ee),ne=n(15),re=n(68),ae=n(53),se=n.n(ae);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var oe=function(e){function t(){var e,n;m()(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=y()(this,(e=O()(t)).call.apply(e,[this].concat(a)))).state={selectedIndex:0},n.getPlayerScores=function(){var e={},t=n.props,r=t.rounds;t.players.map((function(t){return e[t.name]=0}));for(var a=function(t){var n=r[t];0!==n.winner&&1!==n.winner||n.teams[n.winner].map((function(n){return e[n.name]+=t+1}))},s=0;s<r.length;s++)a(s);return e},n.getRandomTeams=function(e){var t=e.filter((function(e){return e.active})),n=se.a.shuffle(t),r=Math.floor(t.length/2);return t.length%2&&(r+=se.a.random()),[n.slice(0,r),n.slice(r)]},n}return w()(t,e),j()(t,[{key:"render",value:function(){var e=this,t=this.props.navigation.navigate,n=A.a.get("window").width,r=this.props.rounds.length-1,s=r>=0&&-1==this.props.rounds[r].winner,i=this.getPlayerScores(),o=this.props.rounds.length>=this.props.games.length&&!s,c=se.a.cloneDeep(this.props.players).sort((function(e,t){return i[t.name]-i[e.name]})),l=-1,u=-1,p=c.map((function(e,t){var n=i[e.name];return n==l?(u+1).toString():(l=n,u=t,(t+1).toString())}));o&&(p=p.map((function(e){return"1"==e?"\ud83c\udfc6":e})));var h=this.props.games.map((function(e,t){return{game:e,gameIndex:(t+1).toString()}})).slice(this.props.rounds.length),d=h.filter((function(e){return e.game.fixedPosition})),f=h.filter((function(e){return!e.game.fixedPosition}));f.length>0&&(f=se.a.shuffle(f.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{gameIndex:"?"})}))));var m=[].concat(te()(d),te()(f));return Object(L.jsxs)(E,{children:[Object(L.jsxs)(a.TabView,{selectedIndex:this.state.selectedIndex,onSelect:function(t){isNaN(t)||e.setState({selectedIndex:t})},style:{flex:1},children:[Object(L.jsx)(a.Tab,{title:"Leaderboard",children:Object(L.jsx)(a.Layout,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:Object(L.jsx)(N.a,{style:{width:n,padding:15},children:Object(L.jsx)(a.List,{data:c,renderItem:function(t){var n=t.item,r=t.index;return Object(L.jsx)(a.ListItem,{onPress:function(){e.props.togglePlayer(c[r].name)},children:Object(L.jsx)(le,{rank:p[r],name:n.name,points:i[n.name],active:n.active})})},keyExtractor:function(e){return e.name}})})})}),Object(L.jsx)(a.Tab,{title:"Games",children:Object(L.jsx)(a.Layout,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:Object(L.jsxs)(N.a,{style:{width:n,padding:15},children:[Object(L.jsx)(a.List,{data:this.props.rounds,renderItem:function(t){var n=t.item,r=t.index;return Object(L.jsx)(a.ListItem,{onLongPress:function(){re.a.alert("Rewrite history?","Change winner or remove (no undo for that)?",[{text:"Change winner",onPress:function(){return e.props.toggleGameResult({roundIndex:r})}},{text:"Remove",onPress:function(){return e.props.removeGame({roundIndex:r})},style:"destructive"},{text:"Cancel",style:"cancel"}],{cancelable:!0})},children:Object(L.jsx)(ue,{gameIndex:r,name:n.game.name,winner:n.winner,teams:n.teams})},r)}}),Object(L.jsx)(a.Text,{category:"h4",appearance:"hint",style:{marginTop:25},children:m.length>0?"Remaining games:":""}),Object(L.jsx)(a.List,{data:m,renderItem:function(e){var t=e.item,n=e.index;return Object(L.jsx)(a.ListItem,{children:Object(L.jsx)(pe,{gameIndex:t.gameIndex,name:t.game.name})},n)}})]})})})]}),Object(L.jsx)(a.Button,{onPress:function(){if(o)t("Main");else{if(!s){var n=e.getRandomTeams(e.props.players);e.props.startNextGame({teams:n})}t("Game")}},children:o?"Back to Main":s?"Back to Game":"Next Game"})]})}}]),t}(o.a.Component),ce=Object(u.b)((function(e){return e}),Y)(oe),le=function(e){function t(){return m()(this,t),y()(this,O()(t).apply(this,arguments))}return w()(t,e),j()(t,[{key:"render",value:function(){var e=this.props.active?"default":"hint";return Object(L.jsxs)(N.a,{style:he.lbEntryContainer,children:[Object(L.jsx)(a.Text,{category:"h3",appearance:e,children:this.props.rank}),Object(L.jsx)(N.a,{style:{flex:1,marginLeft:10},children:Object(L.jsx)(a.Text,{category:"h3",appearance:e,children:this.props.name})}),Object(L.jsx)(a.Text,{style:{marginRight:10},category:"h3",appearance:e,children:this.props.points.toString()}),Object(L.jsx)(a.Icon,{name:this.props.active?"checkmark-circle-2":"checkmark-circle-2-outline",width:25,height:25,fill:"#fff"})]})}}]),t}(o.a.Component),ue=function(e){function t(){return m()(this,t),y()(this,O()(t).apply(this,arguments))}return w()(t,e),j()(t,[{key:"render",value:function(){var e=this.props.winner>=0?"default":"hint";return Object(L.jsxs)(N.a,{style:he.lbEntryContainer,children:[Object(L.jsxs)(a.Text,{category:"h3",appearance:e,children:[(this.props.gameIndex+1).toString(),"."]}),Object(L.jsx)(N.a,{style:{flex:2,marginLeft:10},children:Object(L.jsx)(a.Text,{category:"h3",appearance:e,children:this.props.name})}),Object(L.jsx)(a.Text,{style:{flex:1,marginRight:10},children:this.props.winner<0?"...running...":this.props.teams[this.props.winner].map((function(e){return e.name})).join(", ")})]})}}]),t}(o.a.Component),pe=function(e){function t(){return m()(this,t),y()(this,O()(t).apply(this,arguments))}return w()(t,e),j()(t,[{key:"render",value:function(){return Object(L.jsxs)(N.a,{style:he.lbEntryContainer,children:[Object(L.jsxs)(a.Text,{category:"h3",appearance:"hint",children:[this.props.gameIndex,"."]}),Object(L.jsx)(N.a,{style:{flex:1,marginLeft:10},children:Object(L.jsx)(a.Text,{category:"h3",appearance:"hint",children:this.props.name})})]})}}]),t}(o.a.Component),he=ne.a.create({lbEntryContainer:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"}}),de=n(310),fe=function(e){function t(){return m()(this,t),y()(this,O()(t).apply(this,arguments))}return w()(t,e),j()(t,[{key:"render",value:function(){var e,t=this.props.navigation.navigate;return Object(L.jsx)(E,{children:Object(L.jsxs)(a.Layout,{style:{flex:1,justifyContent:"space-around",alignItems:"center"},children:[Object(L.jsx)(I.a,{source:n(266),style:{width:250,height:200}}),Object(L.jsx)(a.Button,{onPress:function(){t("NewMatch")},children:" New Match "}),Object(L.jsx)(a.Button,{onPress:function(){t("Matches")},children:" Matches "}),Object(L.jsx)(a.Button,{onPress:function(){t("About")},children:" App Info "}),Object(L.jsxs)(a.Text,{appearance:"hint",children:["Version ",(null==(e=de.a.manifest)?void 0:e.version)||"?"]})]})})}}]),t}(o.a.Component),me=n(126),ge=n(94),je=n(56),xe=n(18),ye=n(298),be=function(e){return"ios"===xe.a.OS||"android"===xe.a.OS?Object(L.jsx)(ye.a,{style:{flex:1,width:e.fullWidth,padding:15},children:e.children}):Object(L.jsx)(je.a,{style:{flex:1,width:e.fullWidth,padding:15},children:e.children})},Oe=function(e){function t(e){var n;return m()(this,t),(n=y()(this,O()(t).call(this,e))).getGamesFromText=function(e){var t=se.a.shuffle(e.split("\n").filter((function(e){return e.trim().length>0}))),n=t.map((function(e){return{name:e,fixedPosition:!1}})),r={},a=t.filter((function(e){return/^[1-9]\d*\. ?/.test(e)}));a.map((function(e){return r[e]=parseInt(e.match(/^(\d+)\. ?/)[1])}));var s=function(e){return se.a.uniq(e).length==e.length};if(a.length>0){var i=Object.values(r);if(!s(a))throw'Duplicate game positions found: "'+se()(a).groupBy().pickBy((function(e){return e.length>1})).keys().value()[0]+'"';if(!s(i))throw'Duplicate game positions found: "'+se()(i).groupBy().pickBy((function(e){return e.length>1})).keys().value()[0]+'. "';if((se.a.max(i)||0)>t.length)throw'Game position out of range: "'+se.a.max(i)+'. " found but only '+t.length+" games";var o=se.a.difference(t,a),c=se.a.difference(se.a.range(1,t.length+1),i);n=Array(t.length),a.map((function(e){return n[r[e]-1]={name:e.substr(e.indexOf(".")+1).trim(),fixedPosition:!0}})),o.map((function(e,t){return n[c[t]-1]={name:e,fixedPosition:!1}}))}return n},n.getPlayersFromText=function(e){return e.split("\n").filter((function(e){return e.trim().length>0})).map((function(e){return{name:e,active:!0}}))},n.getDuplicatePlayers=function(e){return se.a.values(se.a.keys(se.a.pickBy(se.a.groupBy(e.map((function(e){return e.name}))),(function(e){return e.length>1}))))},n.state={playerText:n.props.players.map((function(e){return e.name})).join("\n"),gameText:n.props.games.map((function(e,t){return(e.fixedPosition?t+1+". ":"")+e.name})).join("\n")},n}return w()(t,e),j()(t,[{key:"render",value:function(){var e=this,t=this.props.navigation.navigate,n=A.a.get("window").width;return Object(L.jsx)(E,{children:Object(L.jsx)(a.Layout,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:Object(L.jsx)(me.a,{onPress:function(){ge.a.dismiss()},children:Object(L.jsxs)(be,{fullWidth:n,children:[Object(L.jsx)(a.Text,{category:"h1",style:{flex:1,textAlign:"center",margin:15},children:"X"}),Object(L.jsxs)(N.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"},children:[Object(L.jsx)(a.Text,{category:"h3",children:"Players"}),Object(L.jsx)(me.a,{onPress:function(){return re.a.alert("Players","Enter all players: one per line.\nFeel free to use emojis \ud83d\ude08")},children:Object(L.jsx)(a.Icon,{name:"question-mark-circle",width:32,height:32,fill:"#fff"})})]}),Object(L.jsx)(a.Input,{multiline:!0,scrollEnabled:!1,onChangeText:function(t){return e.setState({playerText:t})},value:this.state.playerText}),Object(L.jsxs)(N.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"},children:[Object(L.jsx)(a.Text,{category:"h3",children:"Games"}),Object(L.jsx)(me.a,{onPress:function(){return re.a.alert("Games","Enter all games you want to play: one per line. This app does not contain any games you have to play all the games in real life. Keep in mind that you play each game in two teams. Popular choices include:\nDarts \ud83c\udfaf\nLiar's dice \ud83c\udfb2\nBlack Jack \ud83c\udccf\nSnake \ud83d\udc0d\nTron \ud83c\udfcd\nBlobby Volley \ud83c\udfd0\nYou can set a game to be played in a fixed position by prepending 'X.' with X being the position, e.g. 1.")},children:Object(L.jsx)(a.Icon,{name:"question-mark-circle",width:32,height:32,fill:"#fff"})})]}),Object(L.jsx)(a.Input,{multiline:!0,scrollEnabled:!1,onChangeText:function(t){return e.setState({gameText:t})},value:this.state.gameText}),Object(L.jsx)(a.Button,{onPress:function(){try{var n=e.getPlayersFromText(e.state.playerText),r=e.getDuplicatePlayers(n),a=e.getGamesFromText(e.state.gameText);n.length<2?re.a.alert("Please enter at least two players!"):r.length>0?re.a.alert("Duplicate players: "+r.join(", ")):0==a.length?re.a.alert("Please enter at least one game!"):(e.props.startMatch({players:n,games:a}),t("Leaderboard"))}catch(s){re.a.alert(s.toString())}},children:"Start"}),["ios","android"].includes(xe.a.OS)?void 0:Object(L.jsx)(a.Button,{onPress:function(){e.props.navigation.navigate("Main")},children:" Back "})]})})})})}}]),t}(o.a.Component),ve=Object(u.b)((function(e){return e}),Y)(Oe),we=n(142),Pe=n(219);function Ie(e){var t;"string"===typeof e.games[0]&&(e.games=e.games.map((function(e){return{name:e.toString(),fixedPosition:!1}}))),"string"===typeof(null==(t=e.rounds[0])?void 0:t.game)&&e.rounds.map((function(e){return e.game={name:e.game.toString(),fixedPosition:!1}}))}var Ce=function(e){function t(e){var n;return m()(this,t),(n=y()(this,O()(t).call(this,e))).importMatch=function(){var e,t;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.a.awrap(Pe.a());case 2:if(r.t0=r.sent,r.t0){r.next=5;break}r.t0="";case 5:e=r.t0;try{t=JSON.parse(e),n.props.loadMatch({players:t.players,games:t.games,rounds:t.rounds,lastChange:t.lastChange,matchId:Date.now()}),n.props.navigation.navigate("Leaderboard")}catch(a){re.a.alert("Error","Could not import match from clipboard")}case 7:case"end":return r.stop()}}))},n.loadMatch=function(e){var t,r;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(P.a.getItem(e));case 2:if(a.t0=a.sent,a.t0){a.next=5;break}a.t0="";case 5:t=a.t0,Ie(r=JSON.parse(t)),n.props.loadMatch({players:r.players,games:r.games,rounds:r.rounds,lastChange:r.lastChange,matchId:parseInt(e.substr(7))}),n.props.navigation.navigate("Leaderboard");case 10:case"end":return a.stop()}}))},n.removeMatch=function(e){return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(P.a.removeItem(e));case 2:n.props.reset(),n.getMatches().then((function(e){return n.setState({matches:e})}));case 4:case"end":return t.stop()}}))},n.getMatches=function(){var e,t,n;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=[],r.prev=1,r.next=4,d.a.awrap(P.a.getAllKeys());case 4:return t=r.sent,r.next=7,d.a.awrap(P.a.multiGet(t.filter((function(e){return e.startsWith("@match:")}))));case 7:n=r.sent,(e=n.map((function(e){return[e[0],JSON.parse(e[1]||"")]}))).sort((function(e,t){return t[1].lastChange-e[1].lastChange})),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),console.error(r.t0);case 15:return r.abrupt("return",e);case 16:case"end":return r.stop()}}),null,null,[[1,12]])},n.state={matches:[]},n.getMatches().then((function(e){return n.setState({matches:e})})),n}return w()(t,e),j()(t,[{key:"render",value:function(){var e=this,t=A.a.get("window").width;return Object(L.jsx)(E,{children:Object(L.jsx)(a.Layout,{style:{flex:1},children:Object(L.jsxs)(N.a,{style:{flex:1,width:t,justifyContent:"space-around",alignItems:"center",padding:15},children:[Object(L.jsx)(a.Text,{category:"h1",children:"Matches"}),Object(L.jsx)(a.List,{data:this.state.matches,renderItem:function(t){var n=t.item,r=n[0],s=n[1];return Object(L.jsx)(a.ListItem,{onPress:function(){"ios"===xe.a.OS||"android"===xe.a.OS||window.confirm("Load match?")?e.loadMatch(r):window.confirm("Delete match?")&&e.removeMatch(r)},onLongPress:function(){re.a.alert("Export or Remove Match?","Export copies to clipboard, removing can not be undone",[{text:"Export",onPress:function(){P.a.getItem(r).then((function(e){return Pe.b(e||"")})).then((function(){"android"===xe.a.OS&&we.a.show("Copied to clipboard",we.a.SHORT)}))}},{text:"Remove",onPress:function(){return re.a.alert("Do you really want to remove?","This can not be undone",[{text:"Remove",onPress:function(){return e.removeMatch(r)},style:"destructive"},{text:"Cancel",style:"cancel"}])}},{text:"Cancel",style:"cancel"}],{cancelable:!0})},children:Object(L.jsx)(ke,{match:s})})},keyExtractor:function(e){return e[0]}}),Object(L.jsxs)(N.a,{style:{flexDirection:"row",justifyContent:"space-around",alignSelf:"stretch"},children:[Object(L.jsx)(a.Button,{onPress:function(){e.props.navigation.navigate("Main")},children:" Back "}),Object(L.jsx)(a.Button,{onPress:this.importMatch,children:" Import "})]})]})})})}}]),t}(o.a.Component),Te=Object(u.b)((function(e){return e}),Y)(Ce),ke=function(e){function t(){return m()(this,t),y()(this,O()(t).apply(this,arguments))}return w()(t,e),j()(t,[{key:"render",value:function(){var e=this.props.match,t=e.rounds,n=e.players,r=e.lastChange,s=e.games,i=t.length-1,o=i>=0&&-1==t[i].winner,c=t.length>=s.length&&!o,l=c?"hint":"default",u=new Date(r).toDateString(),p=i+(o?0:1);return Object(L.jsxs)(N.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(L.jsx)(a.Text,{category:"h4",appearance:l,children:c?"\ud83c\udfc6":p+"/"+s.length}),Object(L.jsx)(N.a,{style:{flex:1,marginLeft:10},children:Object(L.jsx)(a.Text,{category:"h4",appearance:l,children:u})}),Object(L.jsx)(a.Icon,{name:"people-outline",width:30,height:30,fill:"#fff"}),Object(L.jsx)(a.Text,{category:"h3",appearance:l,children:" "+n.length})]})}}]),t}(o.a.Component),Se=Object(l.a)();z.subscribe((function(){var e=z.getState();if(e.matchId>0)try{P.a.setItem("@match:"+e.matchId,JSON.stringify({players:e.players,games:e.games,rounds:e.rounds,lastChange:e.lastChange}))}catch(t){console.error(t)}}));t.a=function(){return Object(L.jsxs)(o.a.Fragment,{children:[Object(L.jsx)(a.IconRegistry,{icons:s.EvaIconsPack}),Object(L.jsx)(a.ApplicationProvider,{mapping:r.mapping,theme:r.dark,children:Object(L.jsx)(u.a,{store:z,children:Object(L.jsx)(p.a,{loading:null,persistor:Q,children:Object(L.jsx)(c.a,{children:Object(L.jsxs)(Se.Navigator,{initialRouteName:"Main",screenOptions:{headerShown:!1},children:[Object(L.jsx)(Se.Screen,{name:"Main",component:fe}),Object(L.jsx)(Se.Screen,{name:"About",component:R}),Object(L.jsx)(Se.Screen,{name:"Game",component:_}),Object(L.jsx)(Se.Screen,{name:"NewMatch",component:ve}),Object(L.jsx)(Se.Screen,{name:"Leaderboard",component:ce}),Object(L.jsx)(Se.Screen,{name:"Matches",component:Te})]})})})})})]})}},315:function(e,t,n){e.exports=n(998)}},[[315,1,2]]]);
//# sourceMappingURL=app.a4c39769.chunk.js.map